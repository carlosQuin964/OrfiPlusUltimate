<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
       xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
       xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
    <h:head>
        <title>Ingresa a Orfi Plus</title>
        <link rel="icon" type="image/png" href="resources/images/favicon.ico" />
        <link rel="stylesheet" href="resources/css/bootstrap.min.css"/>
        <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet"/>
        <link href="resources/css/sweetalert.css" rel="stylesheet" type="text/css"/>
        <script src="resources/js/jquery-1.12.0.min.js" type="text/javascript"></script>
        <script src="resources/js/bootstrap.js" type="text/javascript"></script>
        <script src="resources/js/sweetalert.min.js" type="text/javascript"></script>
        <style type="text/css">
            html, body { height: 100%; min-height: 10px; width: 100%; }
            .login-container {
                background: transparent url(http://static.pulzo.com/styles/pulzo2_normal/public/joyeriaoro.jpg?itok=03bT5Whx) center center;
                background-size: cover;
                height: 100%;
                padding-top: 60px;
                width: 100%;
            }
            .login-container::before {
                background: -webkit-radial-gradient(center, ellipse cover, rgba(150,214,104,0.9) 0%,rgba(150,214,104,0.9) 1%,rgba(83,115,62,1) 74%,rgba(150,214,104,1) 75%,rgba(136,255,52,1) 100%);
                content: "";
                height: 100%;
                left: 0px;
                position: absolute;
                top: 0px;
                width: 100%;
            }

            .login-container a.btn.btn-link {
                color: rgb(255, 255, 255);
                font-size: 180%;
                margin: 0px 27px;
                padding: 6px 0px;
                opacity: 0.7;
                text-transform: uppercase;
            }
            .login-container a.btn.btn-link.active {
                border-bottom: 2px solid rgb(23, 98, 238);
                opacity: 1;
            }
            .form-box {
                width: 30%;
                margin: auto;
                margin-left: -10px;
                padding-top:20px;
                margin-top: -39px;
            }
            .poco{
                margin-right: 300px;
            }
        </style>

    </h:head>
    <h:body onload="nobackbutton()" >
        <section class="login-container">
            <div class="container">
                <div class="row">
                   
                    <div class="col-xs-12 col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4">
                        
                            <a href="index.jsp" class="btn btn-link ">Pagina De Inicio</a>
                       
                        <div class="row">
                            <a href="#" class="btn btn-link active">Iniciar</a>
                            <a href="registro.xhtml" class="btn btn-link">Registrarse</a>
                        </div>
                    </div>
                </div>
                <div class="row-fluid" >


                    <div class="col-md-offset-4 col-md-4" id="box">
                        <h2>Ingresar</h2>

                        <hr/>
                        <div class="container">
                            <div class="row">
                                <div class="form-box">
                                    <h:form>
                                        
                                        <div class="form-group">
                                            <div id="nameError" class="alert" role="alert"></div>                
                                            <div class="input-group">
                                                <div class="input-group-addon"><span class="glyphicon glyphicon-user"></span></div>
                                                <h:inputText a:placeholder="Ingrese su documento"
                                                             onkeypress="return valida(event)" maxlength="10" id="username" required="required" class="form-control" value="#{login.user}"></h:inputText>
                                               
                                            </div>

                                            <div class="form-group">
                                                <div id="nameError" class="alert" role="alert"></div>             
                                                <div class="input-group">
                                                    <div class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></div>
                                                    <h:inputSecret a:placeholder="Ingrese su contraseña" class="form-control" id="password" required="required" value="#{login.pwd}"></h:inputSecret>
                                                    <h:message for="password"></h:message>
                                                </div>
                                            </div>
                                        </div>

                                        <h:commandButton action="#{login.validateUsernamePassword}" class="btn btn-info" value="Login"></h:commandButton>
                                        <c:if test="#{login.estado==false}">
                                <script language="JavaScript" type="text/javascript">
                                    $(document).ready(function () {
                                        sweetAlert("Datos incorrectos...", "Correo o Contraseña incorrectos. Por favor verifique !", "error");
                                    });
                                </script> </c:if>
                                #{login.cambiarEstado()}
                                    </h:form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </h:body>
    <script>
        
        	
function nobackbutton(){
	
   window.location.hash="no-back-button";
	
   window.location.hash="Again-No-back-button" //chrome
	
   window.onhashchange=function(){window.location.hash="no-back-button";}
	
}
    </script>
    <script>
function valida(e){
    tecla = (document.all) ? e.keyCode : e.which;

    //Tecla de retroceso para borrar, siempre la permite
    if (tecla==8){
        return true;
    }
        
    // Patron de entrada, en este caso solo acepta numeros
    patron =/[0-9]/;
    tecla_final = String.fromCharCode(tecla);
    return patron.test(tecla_final);
}
</script>
</html>