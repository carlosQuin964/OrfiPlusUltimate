<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <head>
        <title>TODO supply a title</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link href="../../resources/css/sweetalert.css" rel="stylesheet" type="text/css"/>
        <script src="../../resources/css/sweetalert.min.js" type="text/javascript"></script>
    </head>
    <body>
        <ui:composition template="./../../WEB-INF/template/clientTemplate.xhtml">


            <ui:define name="title">
                Crea tu joya
            </ui:define>

            <ui:define name="content">


                <f:view>

                    <div class="container">

                        <div class="alert alert-success">En el siguiente formulario podrá actualizar sus datos personales, recuerde la importancia de tener los datos actualizados  para prestarle un servicio de calidad </div>
                        <h:form>


                            <div class="form-group">          
                                <div class="form-group">
                                    <h:inputHidden
                                        requiredMessage=" ingrese un documento"
                                        validatorMessage="ingresa un numero valido"
                                        required="true"
                                        id="idPERSONAS" 
                                        value="#{login.usuario.idPERSONAS}" 

                                        class="form-control"

                                        >

                                    </h:inputHidden>


                                </div>
                                <h:message for="idPERSONAS" style="color:blue"></h:message>

                            </div>



                            <div class="form-group">  
                                <label for="validate-text">Nombres</label>
                                <div class="form-group" >
                                    <h:inputText 
                                        required="true"
                                        requiredMessage=" ingrese su nombre"
                                        validatorMessage="ingresa un nombre valido"    
                                        id="nombres" 
                                        value="#{login.usuario.nombres}" 
                                        title="Nombres" 
                                        maxlength="30"
                                        class="form-control"
                                        >
                                        <f:validateLength for="nombres" minimum="3" maximum="20" />	
                                    </h:inputText>

                                </div>
                                <h:message for="nombres" style="color:blue"></h:message>
                            </div>

                            <div class="form-group">  
                                <label for="validate-text">Apellidos</label>
                                <div class="form-group" >
                                    <h:inputText 
                                        required="true"
                                        requiredMessage=" ingrese sus Apellidos"
                                        validatorMessage="ingresa un apellido valido"   
                                        id="apellidos" 
                                        value="#{login.usuario.apellidos}" 
                                        title="Apellidos" 
                                        maxlength="30"
                                        class="form-control"
                                        >
                                        <f:validateLength for="nombres" minimum="2" maximum="30" />
                                    </h:inputText>

                                </div>
                                <h:message for="apellidos" style="color:blue"></h:message>
                            </div>

                            <div class="form-group">  
                                <label for="validate-text">Correo</label>
                                <div class="form-group" >
                                    <h:inputText 
                                        required="true"
                                        requiredMessage="Por Favor ingrese su correo"
                                        validatorMessage="ingresa un correo valido"   
                                        id="correoe" 
                                        value="#{login.usuario.correoe}" 
                                        title="Correoe" 
                                        maxlength="200"
                                        class="form-control"
                                        >
                                        <f:validateRegex	pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                                    </h:inputText>

                                </div>
                                <h:message for="correoe" style="color:blue"></h:message>
                            </div>

                            
                            <div class="form-group">  
                                <label for="validate-text">Telefonos</label>
                                <div class="form-group" >
                                    <h:inputText 
                                        required="true"
                                        validatorMessage="ingresa un numero valido"
                                        requiredMessage=" ingrese un telefono"
                                        id="telefonos" 
                                        value="#{login.usuario.telefonos}" 
                                        title="Telefonos"
                                        onkeypress="return valida(event)"
                                        maxlength="30"
                                        class="form-control"
                                        >

                                    </h:inputText>

                                </div>
                                <h:message for="telefonos" style="color:blue"></h:message>
                            </div>

                            <h:messages></h:messages>


                            <h:commandButton 
                                value="Actualizar"
                                class="btn btn-warning"
                                actionListener="#{login.editar()}"

                                >
                            </h:commandButton>
                            <c:if test="#{login.oestado==true}">
                                <script language="JavaScript" type="text/javascript">
                                    $(document).ready(function () {
                                        swal({type: "success", title: "¡Actualizacion Exitosa!", confirmButtonText: "Aceptar", showConfirmButton: true, allowOutsideClick: true, time: 3000}, function () {
                                            window.location.href = "index.xhtml";
                                        });
                                    });
                                </script> </c:if>
                                #{login.ccambiarEstado()}






                        </h:form>

                    </div>

                </f:view>
                <script>
function valida(e){
    tecla = (document.all) ? e.keyCode : e.which;

    //Tecla de retroceso para borrar, siempre la permite
    if (tecla==8){
        return true;
    }
        
    // Patron de entrada, en este caso solo acepta numeros
    patron =/[0-9]/;
    tecla_final = String.fromCharCode(tecla);
    return patron.test(tecla_final);
}
</script>

            </ui:define>
        </ui:composition>
    </body>
</html>
