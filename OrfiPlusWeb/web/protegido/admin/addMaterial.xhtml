<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">    <head>
        <title>Agregar Materia</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet"/>
        <link href="resources/js/js/sweetalert.css" rel="stylesheet" type="text/css"/>
        <link href="../../resources/css/sweetalert.css" rel="stylesheet" type="text/css"/>
        <h:outputScript name="jquery-2.1.1.min.js" library="js" ></h:outputScript>
        <h:outputScript name="jquery.validate.js" library="js" ></h:outputScript>
        <h:outputScript name="validator.js" library="js" ></h:outputScript>
        <script src="resources/js/bootstrap.js" type="text/javascript"></script>
        <script src="resources/js/bootstrap.js" type="text/javascript"></script>
        <script src="../../resources/css/sweetalert.min.js" type="text/javascript"></script>
    </head>

    <body>
        <ui:composition template="./../../WEB-INF/template/adminTemplate.xhtml">
            <ui:define name="title">
                title
            </ui:define>



            <ui:define name="content">

                <style type="text/css">.abajo{margin-top: 100px; margin-right:-10px; }</style>

                <f:view>
                    <div class="container ">
                        <div class="alert alert-success">En el siguiente formulario se crea un material para poder ponerlo en la fabricación </div>
                        <h:form class="abajo">

                            <div class="form-group col-md-6">  
                                <h:outputLabel >Material</h:outputLabel>

                                
                                
                                <h:inputText 
                                    required="true"
                                    requiredMessage=" ingrese un material"
                                    validatorMessage="ingresa un material valido"    
                                    id="material" 
                                    value="#{materialesVController.material.material}" 
                                    title="material" 
                                    maxlength="30"
                                    class="form-control"
                                    >
                                    <f:validateLength for="material" minimum="3" maximum="25" />	
                                </h:inputText>


                                <h:message for="material" style="color:blue"></h:message>
                            </div>

                            <div class="form-group col-md-6">
                                <h:outputLabel >Descripcion</h:outputLabel>


                                <h:inputTextarea 
                                    required="true"
                                    requiredMessage=" ingrese una descripcion"
                                    validatorMessage="ingresa uns descripcion valida"   
                                    id="descripcion" 
                                    value="#{materialesVController.material.descripcion}" 
                                    title="descripcion" 

                                    class="form-control"
                                    >
                                    <f:validateLength for="descripcion" minimum="5" maximum="30" />
                                </h:inputTextarea>

                                <h:message for="descripcion" style="color:blue"></h:message>
                            </div> 

                            <div class="form-group col-md-4"> 
                                <h:outputLabel >Valor</h:outputLabel>

                                <div class="form-group" >
                                    <h:inputText 
                                        required="true"
                                        validatorMessage="ingresa un numero precio valido"
                                        requiredMessage=" ingrese un precio"
                                        id="precioxmaterial"
                                        onkeypress="return valida(event)"
                                        value="#{materialesVController.material.precioxmaterial}" 
                                        title="precioxmaterial"
                                        maxlength="9"
                                        
                                        class="form-control"
                                        >

                                    </h:inputText>

                                </div>
                                <h:message for="precioxmaterial" style="color:blue"></h:message>
                            </div>




                            <div class="bajob">
                                <div class="form-group col-md-12">


                                    <h:commandButton 
                                        value="Agregar Materia"
                                        class="btn btn-warning"
                                        actionListener="#{materialesVController.registrarMaterial()}"

                                        id="evento"
                                        >

                                    </h:commandButton>
                                </div>
                                <c:if test="#{materialesVController.estado==true}">
                                    <script language="JavaScript" type="text/javascript">
                                        $(document).ready(function () {
                                            swal({type: "success", title: "¡Material Agregado!", confirmButtonText: "Aceptar", showConfirmButton: true, allowOutsideClick: true, time: 3000}, function () {
                                                window.location.href = "inicio.xhtml";
                                            });
                                        });
                                    </script> </c:if>
                                
                                     <script>
function valida(e){
    tecla = (document.all) ? e.keyCode : e.which;

    //Tecla de retroceso para borrar, siempre la permite
    if (tecla==8){
        return true;
    }
        
    // Patron de entrada, en este caso solo acepta numeros
    patron =/[0-9]/;
    tecla_final = String.fromCharCode(tecla);
    return patron.test(tecla_final);
}
</script>
                                <h:message for="evento"></h:message>
                            </div>
                        </h:form>
                    </div>
                </f:view>

            </ui:define>
        </ui:composition>
       
    </body>
    

</html>

